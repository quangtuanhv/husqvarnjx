(function(){!function(a){a.countdown=function(b,c){var d,e=this;return this.el=b,this.$el=a(b),this.$el.data("countdown",this),this.init=function(){return e.options=a.extend({},a.countdown.defaultOptions,c),e.options.refresh&&(e.interval=setInterval(function(){return e.render()},e.options.refresh)),e.render(),e},d=function(b){var c,d;return b=Date.parse(a.isPlainObject(e.options.date)?e.options.date:new Date(e.options.date)),d=(b-Date.parse(new Date))/1e3,d<=0&&(d=0,e.interval&&e.stop(),e.options.onEnd.apply(e)),c={years:0,days:0,hours:0,min:0,sec:0,millisec:0},d>=31557600&&(c.years=Math.floor(d/31557600),d-=365.25*c.years*86400),d>=86400&&(c.days=Math.floor(d/86400),d-=86400*c.days),d>=3600&&(c.hours=Math.floor(d/3600),d-=3600*c.hours),d>=60&&(c.min=Math.floor(d/60),d-=60*c.min),c.sec=d,c},this.leadingZeros=function(a,b){for(null==b&&(b=2),a=String(a);a.length<b;)a="0"+a;return a},this.update=function(a){return e.options.date=a,e},this.render=function(){return e.options.render.apply(e,[d(e.options.date)]),e},this.stop=function(){return e.interval&&clearInterval(e.interval),e.interval=null,e},this.start=function(b){return null==b&&(b=e.options.refresh||a.countdown.defaultOptions.refresh),e.interval&&clearInterval(e.interval),e.render(),e.options.refresh=b,e.interval=setInterval(function(){return e.render()},e.options.refresh),e},this.init()},a.countdown.defaultOptions={date:"June 7, 2087 15:03:25",refresh:1e3,onEnd:a.noop,render:function(b){return a(this.el).html(""+b.years+" years, "+b.days+" days, "+this.leadingZeros(b.hours)+" hours, "+this.leadingZeros(b.min)+" min and "+this.leadingZeros(b.sec)+" sec")}},a.fn.countdown=function(b){return a.each(this,function(c,d){var e;if(e=a(d),!e.data("countdown"))return e.data("countdown",new a.countdown(d,b))})}}(jQuery)}).call(this);